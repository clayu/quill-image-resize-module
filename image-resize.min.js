!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ImageResize=e():t.ImageResize=e()}(this,function(){return function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};return e.m=t,e.c=o,e.i=function(t){return t},e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=38)}([function(t,e){function o(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=o},function(t,e,o){var n=o(22),r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();t.exports=i},function(t,e){function o(t){return null!=t&&"object"==typeof t}t.exports=o},function(t,e,o){function n(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}var r=o(75),i=o(76),a=o(77),s=o(78),c=o(79);n.prototype.clear=r,n.prototype.delete=i,n.prototype.get=a,n.prototype.has=s,n.prototype.set=c,t.exports=n},function(t,e,o){function n(t,e){for(var o=t.length;o--;)if(r(t[o][0],e))return o;return-1}var r=o(8);t.exports=n},function(t,e,o){function n(t){return null==t?void 0===t?c:s:u&&u in Object(t)?i(t):a(t)}var r=o(16),i=o(64),a=o(87),s="[object Null]",c="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=n},function(t,e,o){function n(t,e){var o=t.__data__;return r(e)?o["string"==typeof e?"string":"hash"]:o.map}var r=o(73);t.exports=n},function(t,e,o){var n=o(11),r=n(Object,"create");t.exports=r},function(t,e){function o(t,e){return t===e||t!==t&&e!==e}t.exports=o},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}o.d(e,"a",function(){return r});var r=function t(e){n(this,t),this.onCreate=function(){},this.onDestroy=function(){},this.onUpdate=function(){},this.overlay=e.overlay,this.cropOverlay=e.cropOverlay,this.img=e.img,this.options=e.options,this.requestUpdate=e.onUpdate,this.img.style.objectPosition="-99999px 99999px",this.img.style.backgroundImage="url('"+this.img.src+"')"}},function(t,e,o){function n(t,e,o){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[e]=o}var r=o(21);t.exports=n},function(t,e,o){function n(t,e){var o=i(t,e);return r(o)?o:void 0}var r=o(48),i=o(65);t.exports=n},function(t,e,o){function n(t){return null!=t&&i(t.length)&&!r(t)}var r=o(13),i=o(30);t.exports=n},function(t,e,o){function n(t){if(!i(t))return!1;var e=r(t);return e==s||e==c||e==a||e==u}var r=o(5),i=o(0),a="[object AsyncFunction]",s="[object Function]",c="[object GeneratorFunction]",u="[object Proxy]";t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,o){var n=o(11),r=o(1),i=n(r,"Map");t.exports=i},function(t,e,o){var n=o(1),r=n.Symbol;t.exports=r},function(t,e){function o(t,e,o){switch(o.length){case 0:return t.call(e);case 1:return t.call(e,o[0]);case 2:return t.call(e,o[0],o[1]);case 3:return t.call(e,o[0],o[1],o[2])}return t.apply(e,o)}t.exports=o},function(t,e,o){function n(t,e,o){(void 0===o||i(t[e],o))&&(void 0!==o||e in t)||r(t,e,o)}var r=o(10),i=o(8);t.exports=n},function(t,e,o){function n(t,e,o,l,p){t!==e&&a(e,function(a,u){if(c(a))p||(p=new r),s(t,e,u,o,n,l,p);else{var f=l?l(t[u],a,u+"",t,e,p):void 0;void 0===f&&(f=a),i(t,u,f)}},u)}var r=o(41),i=o(18),a=o(46),s=o(51),c=o(0),u=o(32);t.exports=n},function(t,e,o){function n(t,e){return a(i(t,e,r),t+"")}var r=o(26),i=o(89),a=o(90);t.exports=n},function(t,e,o){var n=o(11),r=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=r},function(t,e,o){(function(e){var o="object"==typeof e&&e&&e.Object===Object&&e;t.exports=o}).call(e,o(107))},function(t,e,o){var n=o(88),r=n(Object.getPrototypeOf,Object);t.exports=r},function(t,e){function o(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||r.test(t))&&t>-1&&t%1==0&&t<e}var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=o},function(t,e){function o(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}var n=Object.prototype;t.exports=o},function(t,e){function o(t){return t}t.exports=o},function(t,e,o){var n=o(47),r=o(2),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return r(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=c},function(t,e){var o=Array.isArray;t.exports=o},function(t,e,o){(function(t){var n=o(1),r=o(102),i="object"==typeof e&&e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i,c=s?n.Buffer:void 0,u=c?c.isBuffer:void 0,l=u||r;t.exports=l}).call(e,o(14)(t))},function(t,e){function o(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}var n=9007199254740991;t.exports=o},function(t,e,o){var n=o(49),r=o(54),i=o(86),a=i&&i.isTypedArray,s=a?r(a):n;t.exports=s},function(t,e,o){function n(t){return a(t)?r(t,!0):i(t)}var r=o(43),i=o(50),a=o(12);t.exports=n},function(t,e,o){"use strict";e.a={modules:["DisplaySize","Toolbar","Resize"],overlayStyles:{position:"absolute",boxSizing:"border-box",border:"1px dashed #444",pointerEvents:"none",background:"black",mixBlendMode:"lighten"},cropOverlayStyles:{position:"absolute",boxSizing:"border-box",border:"0px solid rgba(0,0,0,.4)",pointerEvents:"none"},handleStyles:{position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",pointerEvents:"all"},displayStyles:{position:"absolute",font:"12px/1.0 Arial, Helvetica, sans-serif",padding:"4px 8px",textAlign:"center",backgroundColor:"white",color:"#333",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",cursor:"default"},toolbarStyles:{position:"absolute",top:"-12px",right:"0",left:"0",height:"0",minWidth:"100px",font:"12px/1.0 Arial, Helvetica, sans-serif",textAlign:"center",color:"#333",boxSizing:"border-box",cursor:"default"},toolbarButtonStyles:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid #999",verticalAlign:"middle"},toolbarButtonSvgStyles:{fill:"#444",stroke:"#444",strokeWidth:"2"}}},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}o.d(e,"a",function(){return s});var a=o(9),s=function(t){function e(){var t,o,i,a;n(this,e);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return o=i=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(c))),i.onCreate=function(){i.display=document.createElement("div"),Object.assign(i.display.style,i.options.displayStyles),i.overlay.appendChild(i.display)},i.onDestroy=function(){},i.onUpdate=function(){if(i.display&&i.img){var t=i.getCurrentSize();if(i.display.innerHTML=t.join(" &times; "),t[0]>120&&t[1]>30)Object.assign(i.display.style,{right:"4px",bottom:"4px",left:"auto"});else if("right"==i.img.style.float){var e=i.display.getBoundingClientRect();Object.assign(i.display.style,{right:"auto",bottom:"-"+(e.height+4)+"px",left:"-"+(e.width+4)+"px"})}else{var o=i.display.getBoundingClientRect();Object.assign(i.display.style,{right:"-"+(o.width+4)+"px",bottom:"-"+(o.height+4)+"px",left:"auto"})}}},i.getCurrentSize=function(){return[i.img.width,Math.round(i.img.width/i.img.naturalWidth*i.img.naturalHeight)]},a=o,r(i,a)}return i(e,t),e}(a.a)},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}o.d(e,"a",function(){return s});var a=o(9),s=function(t){function e(){var t,o,i,a;n(this,e);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return o=i=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(c))),i.onCreate=function(){i.img.getAttribute("data-full-width")&&(i.img.width=+i.img.getAttribute("data-full-width")),i.img.removeAttribute("height"),i.img.style.height=null,i.boxes=[],i.cropboxes=i.cropboxes||[],i.crop={top:+(i.img.getAttribute("data-crop-top")||0),bottom:+(i.img.getAttribute("data-crop-bottom")||0),left:+(i.img.getAttribute("data-crop-left")||0),right:+(i.img.getAttribute("data-crop-right")||0)},i.pan={top:+(i.img.getAttribute("data-pan-top")||0),left:+(i.img.getAttribute("data-pan-left")||0)},i.img.style.backgroundPosition=i.pan.left*i.img.width+"px "+i.pan.top*i.img.height+"px",i.img.style.backgroundRepeat="no-repeat",i.addBox("nwse-resize"),i.addBox("nesw-resize"),i.addBox("nwse-resize"),i.addBox("nesw-resize"),i.addCropBox("w-crop"),i.addCropBox("e-crop"),i.addCropBox("n-crop"),i.addCropBox("s-crop"),i.img.addEventListener("mousedown",i.handleMousedownPan,!1),i.positionBoxes()},i.onDestroy=function(){i.setCursor(""),i.img.style.backgroundPosition=(-i.crop.left+i.pan.left)*i.img.width+"px "+(-i.crop.top+i.pan.top)*i.img.height+"px",i.img.setAttribute("data-full-height",i.img.height),i.img.setAttribute("data-full-width",i.img.width);var t=i.img.height*(1-(i.crop.top+i.crop.bottom)),e=i.img.width*(1-(i.crop.left+i.crop.right));i.img.height=t,i.img.width=e,i.img.style.width=null,i.img.removeEventListener("mousedown",i.handleMousedownPan)},i.positionBoxes=function(){var t=-parseFloat(i.options.handleStyles.width)/2+"px",e=-parseFloat(i.options.handleStyles.height)/2+"px";[{left:t,top:e},{right:t,top:e},{right:t,bottom:e},{left:t,bottom:e}].forEach(function(t,e){Object.assign(i.boxes[e].style,t)}),i.fixCropBoxes()},i.fixCropBoxes=function(){var t=parseFloat(i.img.width*(1-(i.crop.left+i.crop.right)))/2-parseFloat(i.options.handleStyles.width+3)+"px",e=parseFloat(i.img.height*(1-(i.crop.top+i.crop.bottom)))/2-parseFloat(i.options.handleStyles.height+3)+"px",o=2*parseFloat(i.options.handleStyles.height)+"px",n=2*parseFloat(i.options.handleStyles.width)+"px",r=2*parseFloat(i.options.handleStyles.height)/3+"px",a=2*parseFloat(i.options.handleStyles.width)/3+"px";[{left:"-1px",top:e,height:o,width:a},{right:"-1px",top:e,height:o,width:a},{left:t,top:"-1px",width:n,height:r},{left:t,bottom:"-1px",width:n,height:r}].forEach(function(t,e){Object.assign(i.cropboxes[e].style,t)})},i.addBox=function(t){var e=document.createElement("div");Object.assign(e.style,i.options.handleStyles),e.style.cursor=t,e.style.width=i.options.handleStyles.width+"px",e.style.height=i.options.handleStyles.height+"px",e.addEventListener("mousedown",i.handleMousedown,!1),i.overlay.appendChild(e),i.boxes.push(e)},i.addCropBox=function(t){var e=document.createElement("div");Object.assign(e.style,i.options.handleStyles),e.style.cursor=t,e.style.width=i.options.handleStyles.width+"px",e.style.height=i.options.handleStyles.height+"px",e.addEventListener("mousedown",i.handleMousedownCrop),i.cropOverlay.appendChild(e),i.cropboxes.push(e)},i.handleMousedown=function(t){i.dragBox=t.target,i.dragStartX=t.clientX,i.preDragWidth=i.img.width||i.img.naturalWidth,i.setCursor(i.dragBox.style.cursor),document.addEventListener("mousemove",i.handleDrag,!1),document.addEventListener("mouseup",i.handleMouseup,!1)},i.handleMouseup=function(){i.setCursor(""),document.removeEventListener("mousemove",i.handleDrag),document.removeEventListener("mouseup",i.handleMouseup)},i.handleDrag=function(t){if(i.img){var e=t.clientX-i.dragStartX;i.dragBox===i.boxes[0]||i.dragBox===i.boxes[3]?(i.img.style.width=Math.round(i.preDragWidth-e)+"px",i.img.style.backgroundSize=Math.round(i.preDragWidth-e)+"px"):(i.img.style.width=Math.round(i.preDragWidth+e)+"px",i.img.style.backgroundSize=Math.round(i.preDragWidth+e)+"px"),i.fixCropBoxes(),i.requestUpdate()}},i.handleMousedownCrop=function(t){i.img.style.pointerEvents="none",console.log("crop - mousedown"),i.dragBox=t.target,i.dragStartX=t.clientX,i.dragStartY=t.clientY,i.preDragLeft=(i.crop.left||0)*i.img.width,i.preDragRight=(i.crop.right||0)*i.img.width,i.preDragTop=(i.crop.top||0)*i.img.height,i.preDragBottom=(i.crop.bottom||0)*i.img.height,i.setCursor(i.dragBox.style.cursor),document.addEventListener("mousemove",i.handleDragCrop,!1),document.addEventListener("mouseup",i.handleMouseupCrop,!1)},i.handleMouseupCrop=function(){console.log("crop - mouseup"),i.img.style.pointerEvents=null,i.setCursor(""),document.removeEventListener("mousemove",i.handleDragCrop),document.removeEventListener("mouseup",i.handleMouseupCrop)},i.handleDragCrop=function(t){if(i.img){var e=t.clientX-i.dragStartX,o=t.clientY-i.dragStartY;i.dragBox===i.cropboxes[0]?(i.crop.left=Math.min(Math.max((i.preDragLeft+e)/i.img.width,0),1-i.crop.right),i.img.setAttribute("data-crop-left",i.crop.left)):i.dragBox===i.cropboxes[1]?(i.crop.right=Math.min(Math.max((i.preDragRight-e)/i.img.width,0),1-i.crop.left),i.img.setAttribute("data-crop-right",i.crop.right)):i.dragBox===i.cropboxes[2]?(i.crop.top=Math.min(Math.max((i.preDragTop+o)/i.img.height,0),1-i.crop.bottom),i.img.setAttribute("data-crop-top",i.crop.top)):i.dragBox===i.cropboxes[3]?(console.info((i.preDragBottom-o)/i.img.height),i.crop.bottom=Math.min(Math.max((i.preDragBottom-o)/i.img.height,0),1-i.crop.top),i.img.setAttribute("data-crop-bottom",i.crop.bottom)):console.error("unknown crop box"),i.fixCropBoxes(),i.requestUpdate()}},i.handleMousedownPan=function(t){t.preventDefault(),i.img.setAttribute("draggable",!1),i.dragBox=t.target,i.dragStartX=t.clientX,i.dragStartY=t.clientY,i.preDragX=parseFloat(i.img.style.backgroundPositionX||0),i.preDragY=parseFloat(i.img.style.backgroundPositionY||0),i.setCursor(i.dragBox.style.cursor),document.addEventListener("mousemove",i.handleDragPan,!1),document.addEventListener("mouseup",i.handleMouseupPan,!1)},i.handleMouseupPan=function(t){t.stopImmediatePropagation(),i.setCursor(""),document.removeEventListener("mousemove",i.handleDragPan),document.removeEventListener("mouseup",i.handleMouseupPan)},i.handleDragPan=function(t){if(i.img){var e=t.clientX-i.dragStartX,o=t.clientY-i.dragStartY,n=Math.max(Math.min((e+i.preDragX)/i.img.width,i.crop.left),-i.crop.right),r=Math.max(Math.min((o+i.preDragY)/i.img.height,i.crop.top),-i.crop.bottom);i.img.style.backgroundPositionX=n*i.img.width+"px",i.img.style.backgroundPositionY=r*i.img.height+"px",i.img.setAttribute("data-pan-left",n),i.img.setAttribute("data-pan-top",r),i.pan.left=n,i.pan.top=r,i.requestUpdate()}},i.setCursor=function(t){[document.body,i.img].forEach(function(e){e.style.cursor=t})},a=o,r(i,a)}return i(e,t),e}(a.a)},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}o.d(e,"a",function(){return v});var a=o(105),s=o.n(a),c=o(104),u=o.n(c),l=o(106),p=o.n(l),f=o(9),d=window.Quill.imports.parchment,h=new d.Attributor.Style("float","float"),g=new d.Attributor.Style("margin","margin"),y=new d.Attributor.Style("display","display"),v=function(t){function e(){var t,o,i,a;n(this,e);for(var c=arguments.length,l=Array(c),f=0;f<c;f++)l[f]=arguments[f];return o=i=r(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),i.onCreate=function(){i.toolbar=document.createElement("div"),Object.assign(i.toolbar.style,i.options.toolbarStyles),i.overlay.appendChild(i.toolbar),i._defineAlignments(),i._addToolbarButtons()},i.onDestroy=function(){},i.onUpdate=function(){},i._defineAlignments=function(){i.alignments=[{icon:s.a,apply:function(){y.add(i.img,"inline"),h.add(i.img,"left"),g.add(i.img,"0 1em 1em 0")},isApplied:function(){return"left"==h.value(i.img)}},{icon:u.a,apply:function(){y.add(i.img,"block"),h.remove(i.img),g.add(i.img,"auto")},isApplied:function(){return"auto"==g.value(i.img)}},{icon:p.a,apply:function(){y.add(i.img,"inline"),h.add(i.img,"right"),g.add(i.img,"0 0 1em 1em")},isApplied:function(){return"right"==h.value(i.img)}}]},i._addToolbarButtons=function(){var t=[];i.alignments.forEach(function(e,o){var n=document.createElement("span");t.push(n),n.innerHTML=e.icon,n.addEventListener("click",function(){t.forEach(function(t){return t.style.filter=""}),e.isApplied()?(h.remove(i.img),g.remove(i.img),y.remove(i.img)):(i._selectButton(n),e.apply()),i.requestUpdate()}),Object.assign(n.style,i.options.toolbarButtonStyles),o>0&&(n.style.borderLeftWidth="0"),Object.assign(n.children[0].style,i.options.toolbarButtonSvgStyles),e.isApplied()&&i._selectButton(n),i.toolbar.appendChild(n)})},i._selectButton=function(t){t.style.filter="invert(20%)"},a=o,r(i,a)}return i(e,t),e}(f.a)},function(t,e,o){var n=o(17),r=o(20),i=o(63),a=o(101),s=r(function(t){return t.push(void 0,i),n(a,void 0,t)});t.exports=s},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=o(37),i=o.n(r),a=o(33),s=o(34),c=o(36),u=o(35),l={DisplaySize:s.a,Toolbar:c.a,Resize:u.a},p=function t(e){var o=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),this.initializeModules=function(){o.removeModules(),o.modules=o.moduleClasses.map(function(t){return new(l[t]||t)(o)}),o.modules.forEach(function(t){t.onCreate()}),o.onUpdate()},this.onUpdate=function(){o.repositionElements(),o.modules.forEach(function(t){t.onUpdate()})},this.removeModules=function(){o.modules.forEach(function(t){t.onDestroy()}),o.modules=[]},this.handleClick=function(t){if(t.target&&t.target.tagName&&"IMG"===t.target.tagName.toUpperCase()){if(o.img===t.target)return;o.img&&o.hide(),o.show(t.target)}else o.img&&o.hide()},this.show=function(t){o.img=t,o.showOverlay(),o.initializeModules()},this.showOverlay=function(){o.overlay&&o.hideOverlay(),o.quill.setSelection(null),o.setUserSelect("none"),document.addEventListener("keyup",o.checkImage,!0),o.quill.root.addEventListener("input",o.checkImage,!0),o.overlay=document.createElement("div"),Object.assign(o.overlay.style,o.options.overlayStyles),o.quill.root.parentNode.appendChild(o.overlay),o.cropOverlay=document.createElement("div"),Object.assign(o.cropOverlay.style,o.options.cropOverlayStyles),o.quill.root.parentNode.appendChild(o.cropOverlay),o.repositionElements()},this.hideOverlay=function(){o.overlay&&(o.quill.root.parentNode.removeChild(o.overlay),o.quill.root.parentNode.removeChild(o.cropOverlay),o.overlay=void 0,o.cropOverlay=void 0,document.removeEventListener("keyup",o.checkImage),o.quill.root.removeEventListener("input",o.checkImage),o.setUserSelect(""))},this.repositionElements=function(){if(o.overlay&&o.img){var t=o.quill.root.parentNode,e=o.img.getBoundingClientRect(),n=t.getBoundingClientRect(),r={top:+(o.img.getAttribute("data-crop-top")||0),bottom:+(o.img.getAttribute("data-crop-bottom")||0),left:+(o.img.getAttribute("data-crop-left")||0),right:+(o.img.getAttribute("data-crop-right")||0)};Object.assign(o.overlay.style,{left:e.left-n.left-1+t.scrollLeft+"px",top:e.top-n.top+t.scrollTop+"px",width:e.width+"px",height:e.height+"px"}),Object.assign(o.cropOverlay.style,{borderLeftWidth:e.width*r.left+"px",borderRightWidth:e.width*r.right+"px",borderTopWidth:e.height*r.top+"px",borderBottomWidth:e.height*r.bottom+"px",left:e.left-n.left-1+t.scrollLeft+"px",top:e.top-n.top+t.scrollTop+"px",width:e.width+"px",height:e.height+"px"})}},this.hide=function(){o.hideOverlay(),o.removeModules(),o.img=void 0},this.setUserSelect=function(t){["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach(function(e){o.quill.root.style[e]=t,document.documentElement.style[e]=t})},this.checkImage=function(t){o.img&&(46!=t.keyCode&&8!=t.keyCode||window.Quill.find(o.img).deleteAt(0),o.hide())},this.quill=e;var s=!1;r.modules&&(s=r.modules.slice()),this.options=i()({},r,a.a),!1!==s&&(this.options.modules=s),document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.addEventListener("click",this.handleClick,!1),this.quill.root.parentNode.style.position=this.quill.root.parentNode.style.position||"relative",this.moduleClasses=this.options.modules,this.modules=[]};e.default=p,window.Quill&&window.Quill.register("modules/imageResize",p)},function(t,e,o){function n(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}var r=o(66),i=o(67),a=o(68),s=o(69),c=o(70);n.prototype.clear=r,n.prototype.delete=i,n.prototype.get=a,n.prototype.has=s,n.prototype.set=c,t.exports=n},function(t,e,o){function n(t){var e=-1,o=null==t?0:t.length;for(this.clear();++e<o;){var n=t[e];this.set(n[0],n[1])}}var r=o(80),i=o(81),a=o(82),s=o(83),c=o(84);n.prototype.clear=r,n.prototype.delete=i,n.prototype.get=a,n.prototype.has=s,n.prototype.set=c,t.exports=n},function(t,e,o){function n(t){var e=this.__data__=new r(t);this.size=e.size}var r=o(3),i=o(92),a=o(93),s=o(94),c=o(95),u=o(96);n.prototype.clear=i,n.prototype.delete=a,n.prototype.get=s,n.prototype.has=c,n.prototype.set=u,t.exports=n},function(t,e,o){var n=o(1),r=n.Uint8Array;t.exports=r},function(t,e,o){function n(t,e){var o=a(t),n=!o&&i(t),l=!o&&!n&&s(t),f=!o&&!n&&!l&&u(t),d=o||n||l||f,h=d?r(t.length,String):[],g=h.length;for(var y in t)!e&&!p.call(t,y)||d&&("length"==y||l&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||c(y,g))||h.push(y);return h}var r=o(53),i=o(27),a=o(28),s=o(29),c=o(24),u=o(31),l=Object.prototype,p=l.hasOwnProperty;t.exports=n},function(t,e,o){function n(t,e,o){var n=t[e];s.call(t,e)&&i(n,o)&&(void 0!==o||e in t)||r(t,e,o)}var r=o(10),i=o(8),a=Object.prototype,s=a.hasOwnProperty;t.exports=n},function(t,e,o){var n=o(0),r=Object.create,i=function(){function t(){}return function(e){if(!n(e))return{};if(r)return r(e);t.prototype=e;var o=new t;return t.prototype=void 0,o}}();t.exports=i},function(t,e,o){var n=o(62),r=n();t.exports=r},function(t,e,o){function n(t){return i(t)&&r(t)==a}var r=o(5),i=o(2),a="[object Arguments]";t.exports=n},function(t,e,o){function n(t){return!(!a(t)||i(t))&&(r(t)?h:u).test(s(t))}var r=o(13),i=o(74),a=o(0),s=o(97),c=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,l=Function.prototype,p=Object.prototype,f=l.toString,d=p.hasOwnProperty,h=RegExp("^"+f.call(d).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},function(t,e,o){function n(t){return a(t)&&i(t.length)&&!!s[r(t)]}var r=o(5),i=o(30),a=o(2),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=n},function(t,e,o){function n(t){if(!r(t))return a(t);var e=i(t),o=[];for(var n in t)("constructor"!=n||!e&&c.call(t,n))&&o.push(n);return o}var r=o(0),i=o(25),a=o(85),s=Object.prototype,c=s.hasOwnProperty;t.exports=n},function(t,e,o){function n(t,e,o,n,m,b,x){var w=t[o],_=e[o],j=x.get(_);if(j)return void r(t,o,j);var O=b?b(w,_,o+"",t,e,x):void 0,S=void 0===O;if(S){var A=l(_),E=!A&&f(_),C=!A&&!E&&y(_);O=_,A||E||C?l(w)?O=w:p(w)?O=s(w):E?(S=!1,O=i(_,!0)):C?(S=!1,O=a(_,!0)):O=[]:g(_)||u(_)?(O=w,u(w)?O=v(w):(!h(w)||n&&d(w))&&(O=c(_))):S=!1}S&&(x.set(_,O),m(O,_,n,b,x),x.delete(_)),r(t,o,O)}var r=o(18),i=o(56),a=o(57),s=o(58),c=o(71),u=o(27),l=o(28),p=o(99),f=o(29),d=o(13),h=o(0),g=o(100),y=o(31),v=o(103);t.exports=n},function(t,e,o){var n=o(98),r=o(21),i=o(26),a=r?function(t,e){return r(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=a},function(t,e){function o(t,e){for(var o=-1,n=Array(t);++o<t;)n[o]=e(o);return n}t.exports=o},function(t,e){function o(t){return function(e){return t(e)}}t.exports=o},function(t,e,o){function n(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}var r=o(42);t.exports=n},function(t,e,o){(function(t){function n(t,e){if(e)return t.slice();var o=t.length,n=u?u(o):new t.constructor(o);return t.copy(n),n}var r=o(1),i="object"==typeof e&&e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i,c=s?r.Buffer:void 0,u=c?c.allocUnsafe:void 0;t.exports=n}).call(e,o(14)(t))},function(t,e,o){function n(t,e){var o=e?r(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}var r=o(55);t.exports=n},function(t,e){function o(t,e){var o=-1,n=t.length;for(e||(e=Array(n));++o<n;)e[o]=t[o];return e}t.exports=o},function(t,e,o){function n(t,e,o,n){var a=!o;o||(o={});for(var s=-1,c=e.length;++s<c;){var u=e[s],l=n?n(o[u],t[u],u,o,t):void 0;void 0===l&&(l=t[u]),a?i(o,u,l):r(o,u,l)}return o}var r=o(44),i=o(10);t.exports=n},function(t,e,o){var n=o(1),r=n["__core-js_shared__"];t.exports=r},function(t,e,o){function n(t){return r(function(e,o){var n=-1,r=o.length,a=r>1?o[r-1]:void 0,s=r>2?o[2]:void 0;for(a=t.length>3&&"function"==typeof a?(r--,a):void 0,s&&i(o[0],o[1],s)&&(a=r<3?void 0:a,r=1),e=Object(e);++n<r;){var c=o[n];c&&t(e,c,n,a)}return e})}var r=o(20),i=o(72);t.exports=n},function(t,e){function o(t){return function(e,o,n){for(var r=-1,i=Object(e),a=n(e),s=a.length;s--;){var c=a[t?s:++r];if(!1===o(i[c],c,i))break}return e}}t.exports=o},function(t,e,o){function n(t,e,o,a,s,c){return i(t)&&i(e)&&(c.set(e,t),r(t,e,void 0,n,c),c.delete(e)),t}var r=o(19),i=o(0);t.exports=n},function(t,e,o){function n(t){var e=a.call(t,c),o=t[c];try{t[c]=void 0;var n=!0}catch(t){}var r=s.call(t);return n&&(e?t[c]=o:delete t[c]),r}var r=o(16),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,c=r?r.toStringTag:void 0;t.exports=n},function(t,e){function o(t,e){return null==t?void 0:t[e]}t.exports=o},function(t,e,o){function n(){this.__data__=r?r(null):{},this.size=0}var r=o(7);t.exports=n},function(t,e){function o(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=o},function(t,e,o){function n(t){var e=this.__data__;if(r){var o=e[t];return o===i?void 0:o}return s.call(e,t)?e[t]:void 0}var r=o(7),i="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;t.exports=n},function(t,e,o){function n(t){var e=this.__data__;return r?void 0!==e[t]:a.call(e,t)}var r=o(7),i=Object.prototype,a=i.hasOwnProperty;t.exports=n},function(t,e,o){function n(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=r&&void 0===e?i:e,this}var r=o(7),i="__lodash_hash_undefined__";t.exports=n},function(t,e,o){function n(t){return"function"!=typeof t.constructor||a(t)?{}:r(i(t))}var r=o(45),i=o(23),a=o(25);t.exports=n},function(t,e,o){function n(t,e,o){if(!s(o))return!1;var n=typeof e;return!!("number"==n?i(o)&&a(e,o.length):"string"==n&&e in o)&&r(o[e],t)}var r=o(8),i=o(12),a=o(24),s=o(0);t.exports=n},function(t,e){function o(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=o},function(t,e,o){function n(t){return!!i&&i in t}var r=o(60),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=n},function(t,e){function o(){this.__data__=[],this.size=0}t.exports=o},function(t,e,o){function n(t){var e=this.__data__,o=r(e,t);return!(o<0)&&(o==e.length-1?e.pop():a.call(e,o,1),--this.size,!0)}var r=o(4),i=Array.prototype,a=i.splice;t.exports=n},function(t,e,o){function n(t){var e=this.__data__,o=r(e,t);return o<0?void 0:e[o][1]}var r=o(4);t.exports=n},function(t,e,o){function n(t){return r(this.__data__,t)>-1}var r=o(4);t.exports=n},function(t,e,o){function n(t,e){var o=this.__data__,n=r(o,t);return n<0?(++this.size,o.push([t,e])):o[n][1]=e,this}var r=o(4);t.exports=n},function(t,e,o){function n(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}var r=o(39),i=o(3),a=o(15);t.exports=n},function(t,e,o){function n(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}var r=o(6);t.exports=n},function(t,e,o){function n(t){return r(this,t).get(t)}var r=o(6);t.exports=n},function(t,e,o){function n(t){return r(this,t).has(t)}var r=o(6);t.exports=n},function(t,e,o){function n(t,e){var o=r(this,t),n=o.size;return o.set(t,e),this.size+=o.size==n?0:1,this}var r=o(6);t.exports=n},function(t,e){function o(t){var e=[];if(null!=t)for(var o in Object(t))e.push(o);return e}t.exports=o},function(t,e,o){(function(t){var n=o(22),r="object"==typeof e&&e&&!e.nodeType&&e,i=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,c=function(){try{return s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=c}).call(e,o(14)(t))},function(t,e){function o(t){return r.call(t)}var n=Object.prototype,r=n.toString;t.exports=o},function(t,e){function o(t,e){return function(o){return t(e(o))}}t.exports=o},function(t,e,o){function n(t,e,o){return e=i(void 0===e?t.length-1:e,0),function(){for(var n=arguments,a=-1,s=i(n.length-e,0),c=Array(s);++a<s;)c[a]=n[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=n[a];return u[e]=o(c),r(t,this,u)}}var r=o(17),i=Math.max;t.exports=n},function(t,e,o){var n=o(52),r=o(91),i=r(n);t.exports=i},function(t,e){function o(t){var e=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var n=800,r=16,i=Date.now;t.exports=o},function(t,e,o){function n(){this.__data__=new r,this.size=0}var r=o(3);t.exports=n},function(t,e){function o(t){var e=this.__data__,o=e.delete(t);return this.size=e.size,o}t.exports=o},function(t,e){function o(t){return this.__data__.get(t)}t.exports=o},function(t,e){function o(t){return this.__data__.has(t)}t.exports=o},function(t,e,o){function n(t,e){var o=this.__data__;if(o instanceof r){var n=o.__data__;if(!i||n.length<s-1)return n.push([t,e]),this.size=++o.size,this;o=this.__data__=new a(n)}return o.set(t,e),this.size=o.size,this}var r=o(3),i=o(15),a=o(40),s=200;t.exports=n},function(t,e){function o(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var n=Function.prototype,r=n.toString;t.exports=o},function(t,e){function o(t){return function(){return t}}t.exports=o},function(t,e,o){function n(t){return i(t)&&r(t)}var r=o(12),i=o(2);t.exports=n},function(t,e,o){function n(t){if(!a(t)||r(t)!=s)return!1;var e=i(t);if(null===e)return!0;var o=p.call(e,"constructor")&&e.constructor;return"function"==typeof o&&o instanceof o&&l.call(o)==f}var r=o(5),i=o(23),a=o(2),s="[object Object]",c=Function.prototype,u=Object.prototype,l=c.toString,p=u.hasOwnProperty,f=l.call(Object);t.exports=n},function(t,e,o){var n=o(19),r=o(61),i=r(function(t,e,o,r){n(t,e,o,r)});t.exports=i},function(t,e){function o(){return!1}t.exports=o},function(t,e,o){function n(t){return r(t,i(t))}var r=o(59),i=o(32);t.exports=n},function(t,e){t.exports='<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line>\n</svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line>\n</svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line>\n</svg>'},function(t,e){var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(o=window)}t.exports=o}])});